<!DOCTYPE html>
<html>
  <head>

    <meta charset="UTF-8">
    <meta title="author" content="Luc Pitre">
    <title>Conflict Dialogue</title>
    <link rel="stylesheet" href="../stylesheets/stylesheet.css"/>
    </head>

  <body>



  <div class="main">
  	<textarea id="textD" rows="4" cols="30" placeholder="ineffective dialogue"></textarea>
  	<textarea id="textC" rows="4" cols="30" placeholder="effective dialogue"></textarea>

  	<textarea id="conD" rows="4" cols="30" placeholder="ineffective concept"></textarea>
  	<textarea id="conC" rows="4" cols="30" placeholder="effective concept"></textarea>

  	<textarea id="reaD" rows="4" cols="30" placeholder="ineffective reason"></textarea>
  	<textarea id="reaC" rows="4" cols="30" placeholder="effective reason"></textarea>

  	<input id="button1" type="button" value="move on" />

  	<input id="buttonSave" type="button" value="save image"/>


  </div>

  <canvas id="canv" height="1500" width="1500"></canvas>

  <script src="process.js"></script>

  <script>
  	var pic1Loc = "person1.jpg";//location of person1 picture
	var pic2Loc = "person2.jpg";//location of person2 picture
	var img1;
	var img2;
	var canv = document.getElementById("canv");
	var context = canv.getContext("2d");
	var lHeight = 15;
	//create array of strings

	var strings = ["", "", "", "", "", ""];

  	document.getElementById("button1").onclick = function(){
	
	console.log("working!");

	strings[0] = document.getElementById("textD").value;
	strings[1] = document.getElementById("textC").value;
	strings[2] = document.getElementById("conD").value;
	strings[3] = document.getElementById("conC").value;
	strings[4] = document.getElementById("reaD").value;
	strings[5] = document.getElementById("reaC").value;
	//grab image
	img1 = new Image();
	img2 = new Image();

	img1.src = pic1Loc;
	img2.src = pic2Loc;

	context.textBaseline = "top";
	context.drawImage(img1, 900, 150);
	context.drawImage(img2, 1200, 150);
	//ineffective side
	//text
	context.strokeRect(800, 70, 200, 80);
	context.font="14px Arial";
	wrapText(context, strings[0], 800, 70, 200, lHeight);
	//concept
	context.strokeRect(800, 290, 200, 80);
	context.font="14px Arial";
	wrapText(context, strings[2], 800, 290, 200, lHeight);
	//reason
	context.strokeRect(800, 410, 200, 80);
	context.font="14px Arial";
	wrapText(context, strings[4], 800, 410, 200, lHeight);

	//effective side
	//text
	context.strokeRect(1100, 70, 200, 80);
	context.font="14px Arial";
	wrapText(context, strings[1], 1100, 70, 200, lHeight);
	//concept
	context.strokeRect(1100, 290, 200, 80);
	context.font="14px Arial";
	wrapText(context, strings[3], 1100, 290, 200, lHeight);
	//reason
	context.strokeRect(1100, 410, 200, 80);
	context.font="14px Arial";
	wrapText(context, strings[5], 1100, 410, 200, lHeight);

  	};
  </script>

  <script>
  	document.getElementById("buttonSave").onClick = function(){
  		console.log("saving...");
  		/*canvas = document.getElementById("canv");

  		var image = canvas.toDataURL("image/png").replace("image/png", "image/octet-stream");
		window.location.href=image;*/
  	};
  </script>

  

  </body>
</html>
